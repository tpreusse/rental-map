<div class="row">
  <div class="col-md-12">
    <h1>Flats in Zurich</h1>
  </div>
</div>
<div class="row">
  <div class="col-md-9">
    <div class="map" map="tpreusse.hng3chlk" map-options="{{ mapState }}"></div>
    <pagination total-items="filteredObjects.length" max-size="10" rotate="false" page="currentPage" items-per-page="numPerPage"></pagination>
    <div class="row objects">
      <flat ng-repeat="object in pagedFilteredObjects" class="object thumbnail">
      </flat>
    </div>
    <pagination total-items="filteredObjects.length" max-size="10" rotate="false" page="currentPage" items-per-page="numPerPage"></pagination>

    <accordion close-others="false">
      <accordion-group heading="✓ Selection" is-open="true">
        <div class="row objects">
          <flat ng-repeat="object in selection | filter: {selection:2,found:true}" class="object thumbnail"></flat>
        </div>
      </accordion-group>
      <accordion-group heading="~ Maybe" is-open="true">
        <div class="row objects">
          <flat ng-repeat="object in selection | filter: {selection:1,found:true}" class="object thumbnail"></flat>
        </div>
      </accordion-group>
      <accordion-group heading="✕ Nope">
        <div class="row objects">
          <flat ng-repeat="object in selection | filter: {selection:0,found:true}" class="object thumbnail"></flat>
        </div>
      </accordion-group>
      <accordion-group heading="Gone" is-open="true">
        <div class="row objects">
          <flat ng-repeat="object in selection | filter: {found:false}" class="object thumbnail"></flat>
        </div>
      </accordion-group>
    </accordion>
    <br><br>
  </div>
  <div class="col-md-3 sidebar">
    <h2 ng-show="filteredObjects !== undefined">{{ filteredObjects.length }} Objects<h2>
    <h3>Filters</h2>
    <h4>Price</h4>

    <div class="nvd3-container">
      <nvd3-scatter-chart
              data="priceData"
              id="priceChart"
              height="250"
              interactive="false"
              tooltips="true"
              x="xFunction()"
              y="yFunction()"
              xAxisTickFormat="xAxisTickFormatFunction()"
              yAxisTickFormat="yAxisTickFormatFunction()">
      </nvd3-scatter-chart>
    </div>
    <label>
      Min: <input size="6" type="text" ng-model="priceMin" />
    </label>
    <label>
      Max: <input size="6" type="text" ng-model="priceMax" />
    </label>

    <h4>Rooms</h4>
    <div class="nvd3-container">
      <nvd3-stacked-area-chart
        data="roomData"
          id="roomChart"
          showXAxis="true"
          showYAxis="true"
          yAxisTickFormat="roomYAxisTickFormatFunction()"
          useInteractiveGuideline="true"
          tooltips="true"
          height="250"
          style="stream">
      </nvd3-stacked-area-chart>
    </div>
    <label>
      Min: <input size="6" type="text" ng-model="roomMin" />
    </label>

    <h4>Rental Type</h4>
    <label ng-repeat="item in filter.list" class="filter-checkbox">
      <input type="checkbox" ng-model="filter.check[item.name]">
      <span class="color" ng-style="{backgroundColor:typeScale(item.name)}"></span>
      {{ item.name }} ({{ item.count }})
    </label>
  </div>
</div>
